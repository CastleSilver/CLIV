# 🧶CLIV

![logo](./img/logo.png)

온라인 실시간 수업을 기반으로 한 공예생활 플랫폼

<br/>

## 📆 프로젝트 개요

- **진행 기간** : 2021.07.11 ~ 2022.08.19
- 온라인으로 실시간 공예 수업을 듣고 싶은 사람들을 위한 커뮤니티 & 화상수업 플랫폼 서비스
- **주요기능**
  - 실시간 공예 수업
  - 수업 내 도움요청 기능
  - 맞춤 클래스 추천
  - 1:1 수업 매칭

## 👨팀원 소개

| 이름   | 역할 | 담당        |
| ------ | ---- | ----------- |
| 김민주 | 팀원 | `Back-end`  |
| 박지원 | 팀원 | `Front-end` |
| 조혜진 | 팀원 | `Front-end` |
| 최윤정 | 팀원 | `Front-end` |
| 허성은 | 팀장 | `Back-end`  |

## 🐻개발 환경 및 구성

### Back-end

- Spring Boot : Spring Boot 2.4.5 (Gradle)
- DB : MYSQL 8.0.30
- JAVA : openJDK (1.8.0_332)
- Docker : 20.10.17
- Nginx 1.18.0

<br/>

# 시스템 아키텍쳐 구조
![architecture](./img/system.png)

<br/>

# ERD
![architecture](./img/erd.png)

<br/>


# 요구 사항 분석
## 회원관리 Member

---

- 회원은 강사 회원과 일반 회원으로 나뉜다.
- 회원가입와 로그인은 `카카오 로그인` 을 이용한다.
- 회원가입은 카카오를 통해 이메일, 성별, 프로필 사진을 입력받는다.(필수항목)
- 회원가입 시 닉네임, 이메일은 중복허용되지 않는다.
- 회원가입 시 계정 상태는 활성화 상태로 등록된다.
- 로그인은 카카오 이메일과 카카오 비밀번호를 입력받는다.
- 회원정보수정이 가능하다. 이메일, 닉네임, 핸드폰 번호, 프로필 사진을 수정할 수 있다.
- 회원 정보 수정 시 이메일과 닉네임, 핸드폰 번호는 중복허용되지 않는다.
- 회원 탈퇴가 가능하다. 회원 탈퇴시 계정 상태가 탈퇴로 변경된다.
- 회원 탈퇴 시 탈퇴한 회원이 작성했던 리뷰와 매칭 요청글의 작성자는 `탈퇴한 회원` 이라고 바뀐다.
- 탈퇴한 회원과 동일한 이메일로 재가입이 불가능하다.


## 수업 관리 Class

---

### 강사회원

- 강사회원은 수업을 생성할 수 있는데, 한 강사는 여러 개의 수업을 생성할 수 있다.
- 수업 생성 시 수업명, 강사명, 수업 날짜, 수업 시작 시간, 카테고리, 인원 수, 수강료, 수업 가이드, 대표이미지, 수업 설명을 입력해야한다. 이는 모두 필수 항목이다.
- 카테고리는 공예품에 한정된다. 십자수, 가죽 공예, 비즈 공예, 뜨개질, 종이접기, 라탄 공예, 비누 공예, 인형 공예, 재활용 공예 중에서 1개를 선택할 수 있다.

### 일반회원

- 일반회원은 수업을 생성할 수 없다.
- 회원은 수업을 신청할 수 있는데, 한 회원은 여러 개의 수업을 신청할 수 있다.
- 수업 신청 시 수강료를 결제한다.


## 리뷰 관리 Review

---

- 리뷰는 별점, 대표후기, 상세후기, 텍스트 후기, 작성 시간의 정보를 갖는다.
- 별점은 0.5개 ~5개까지 평가 가능하다.
- 대표 후기는 최고에요, 좋아요, 별로에요 중에서 선택 가능하다.
- 상세 후기는 대표 후기를 선택한 이유를 나타낸다.
- 텍스트 후기는 사진을 첨부할 수 있다.(선택항목)

## 매칭 시스템 관리 Matching

---

- 회원은 `1:1매칭하기` 버튼을 통해 원하는 강좌를 신청할 수 있다.
- 요청글은 제목, 카테고리, 원하는 수업 요일, 시간대, 강사 성별, 본문, 작성 시간의 정보를 갖는다. (필수항목)
- 본문 내 이미지 첨부할 수 있다. (선택항목)
- 강사는 회원들의 매칭 요청 목록 중에서 `~버튼`을 통해 선택할 수 있으며, 수강료 등을 작성한다.
- 강사가 작성한 견적서는 해당 회원에게 채팅을 통해 보내진다.
- 회원은 받은 견적서들을 확인할 수 있다.
- 회원은 채팅을 통해 강사와 상담을 할 수 있다.

## 알림 시스템 관리 Notification

---

- 수업 시작 10분 전에 알림을 받는다.
- 매칭 상대에게 채팅이 오면 알림을 받는다
- 매칭 제안이 오면 알림을 받는다


<br/>


# Code Convention

## 💬 BE 기본 규칙

🐪 **CamelCase** 사용하기

🐈‍⬛ **CleanCode** 작성하기 - 메서드명은 기능을 나타낼 수 있는 이름으로! 클래스명과 변수명은 어떤 역할을 하는지 알아보기 쉽게!

## 🧐 주석

### ✅ 클래스 설명

클래스 상단에 다음 형식으로 주석 달아주기

```java
/**  
* @FileName : ${file_name}  
* @작성자 : ${user}  
* @Class 설명 : 
*/
```

### ✅ 메서드 설명

메서드 **내부** 최상단에 다음 형식으로 주석 달아주기 

```java
/**  
* @Method Name : ${enclosing_method}  
* @작성자 : ${user}  
* @Method 설명 : 
*/
```

### ✅ 기타 주석 설명

이해하기 힘들다고 생각되는 로직에는 `//` 붙여서 설명 달아주기

## 🙌 명명규칙

### 🧊 Entity

- **클래스명** : ERD 상의 Table 명과 동일한 카멜표기법으로 작성하기. 만약 예약어와 겹칠 경우에는 ‘Table명 + 임의의 단어` 형식으로 생성
- **변수명** : ERD 상의 Column 명과 동일한 카멜표기법으로 작성
- **어노테이션 설정**
    - `@Setter` 지양하기
    - `@Builder` 설정하기

### 🧊 DTO = Request, Response

- **명명규칙**
    - Entity명 + Request/Response
    - ex) AuthResponse, AuthRequest
- DTO와 Entity가 서로 변환되기 위해 **Querydsl 구현 필요**

### 🧊 Repository - Querydsl, JpaRepository

- **JpaRepository**
    - 명명규칙 : Entity명 + repository
        - ex) AuthRepository
    - 구현 규칙
        - `@Repository` 어노테이션 등록
        - JpaRepository 상속받기
        - JpaRepository에는 Key : Entity, Value: Entity PK 데이터타입 설정해주기
    
    ```java
    @Repository
    public interface AuthRepository extends JpaRepository<Auth, String> {
    
    }
    ```
    

- QuerydslRepository
    - 명명규칙 : Entity 명 + `QuerydslRepository`
        - ex) MemberQuerydslRepository
    - 구현 규칙
        - `@Repository` 어노테이션 등록
        - `@RequiredArgsConstructor` 어노테이션 등록
        - JpaQueryFactory 의존성 주입 받기
